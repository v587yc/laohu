<!DOCTYPE html>
<
<
    <
    <
    <
    <
{
            font-familyArialsans-serif
        }
{
            margin-bottom20px
        }
{
            margin-right10px
        }
{
            font-size16px
            colorgreen
        }
    </>
</>
<
    <
    <
        <
        <
    </>
    <
        <
        <
        <
        <
    </>
    
    <
apiKey
        const baseUrl"https://api.tiger-sms.com/stubs/handler_api.php"
        const proxy'https://cors-anywhere.herokuapp.com/'// CORS 代理
        let currentIdnull
        let currentNumbernull

        // 获取号码
getElementById('getNumberBtn')addEventListener('click'async (){
            const url`${}${}?api_key=${}&action=getNumber&service=hw&country=6`
            try {
                const responseawait fetch()
                const textawaittext()
                if (startsWith("ACCESS_NUMBER")) {
                    const partssplit(":")
[1]
[2]
getElementById('numberOutput')innerHTML`
                        获取到号码: ${} 
                        <
                    `
                } else {
getElementById('numberOutput')innerText`错误: ${}`
                }
            } catch (error) {
getElementById('numberOutput')innerText`请求失败: ${message}`
            }
        })

        // 等待验证码
getElementById('checkCodeBtn')addEventListener('click'async (){
            if () {
                alert("请先获取号码！")
                return
            }
            const url`${}${}?api_key=${}&action=getStatus&id=${}`
            try {
                const responseawait fetch()
                const textawaittext()
getElementById('statusOutput')innerHTML`状态: ${}`
                if (startsWith("STATUS_OK")) {
                    const codesplit(":")[1]trim()
getElementById('statusOutput')innerHTML`
                        <
                        <
                    `
                }
            } catch (error) {
getElementById('statusOutput')innerText`请求失败: ${message}`
            }
        })

        // 取消号码
getElementById('cancelNumberBtn')addEventListener('click'async (){
            if () {
                alert("请先获取号码！")
                return
            }
            const url`${}${}?api_key=${}&action=setStatus&status=8&id=${}`
            try {
                const responseawait fetch()
                const textawaittext()
getElementById('statusOutput')innerText`取消状态: ${}`
            } catch (error) {
getElementById('statusOutput')innerText`请求失败: ${message}`
            }
        })

        // 完成使用
getElementById('completeNumberBtn')addEventListener('click'async (){
            if () {
                alert("请先获取号码！")
                return
            }
            const url`${}${}?api_key=${}&action=setStatus&status=6&id=${}`
            try {
                const responseawait fetch()
                const textawaittext()
getElementById('statusOutput')innerText`完成状态: ${}`
            } catch (error) {
getElementById('statusOutput')innerText`请求失败: ${message}`
            }
        })

        // 复制文本到剪贴板
        function copyText(text) {
clipboardwriteText()then((){
                alert("复制成功: ")
            })catch(err{
                alert("复制失败: "message)
            })
        }
    </>
</>
</>
